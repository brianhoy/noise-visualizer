webpackJsonp([0],{0:function(e,t,n){"use strict";var r=n(1),o=n(337);r.platformBrowserDynamic().bootstrapModule(o.AppModule)},337:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(203),a=n(338),c=n(376),l=n(393),u=n(672),p=n(387),h=n(673),d=n(677),f=function(){function e(){}return e=r([i.NgModule({imports:[s.BrowserModule,a.FormsModule,d.ResizableModule],declarations:[c.AppComponent],providers:[l.NoiseOptionService,u.DebugService,p.ViewOptionService,h.ResizeService],bootstrap:[c.AppComponent]}),o("design:paramtypes",[])],e)}();t.AppModule=f},338:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(339))},339:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var o=n(340);t.FORM_DIRECTIVES=o.FORM_DIRECTIVES,t.REACTIVE_FORM_DIRECTIVES=o.REACTIVE_FORM_DIRECTIVES;var i=n(351);t.AbstractControlDirective=i.AbstractControlDirective;var s=n(364);t.AbstractFormGroupDirective=s.AbstractFormGroupDirective;var a=n(341);t.CheckboxControlValueAccessor=a.CheckboxControlValueAccessor;var c=n(362);t.ControlContainer=c.ControlContainer;var l=n(342);t.NG_VALUE_ACCESSOR=l.NG_VALUE_ACCESSOR;var u=n(343);t.DefaultValueAccessor=u.DefaultValueAccessor;var p=n(346);t.NgControl=p.NgControl;var h=n(345);t.NgControlStatus=h.NgControlStatus;var d=n(352);t.NgForm=d.NgForm;var f=n(363);t.NgModel=f.NgModel;var m=n(365);t.NgModelGroup=m.NgModelGroup;var y=n(368);t.FormControlDirective=y.FormControlDirective;var g=n(369);t.FormControlName=g.FormControlName;var v=n(371);t.FormGroupDirective=v.FormGroupDirective;var b=n(372);t.FormArrayName=b.FormArrayName;var _=n(372);t.FormGroupName=_.FormGroupName;var C=n(360);t.NgSelectOption=C.NgSelectOption,t.SelectControlValueAccessor=C.SelectControlValueAccessor;var S=n(361);t.SelectMultipleControlValueAccessor=S.SelectMultipleControlValueAccessor;var E=n(373);t.MaxLengthValidator=E.MaxLengthValidator,t.MinLengthValidator=E.MinLengthValidator,t.PatternValidator=E.PatternValidator,t.RequiredValidator=E.RequiredValidator;var V=n(374);t.FormBuilder=V.FormBuilder;var w=n(354);t.AbstractControl=w.AbstractControl,t.FormArray=w.FormArray,t.FormControl=w.FormControl,t.FormGroup=w.FormGroup;var A=n(356);t.NG_ASYNC_VALIDATORS=A.NG_ASYNC_VALIDATORS,t.NG_VALIDATORS=A.NG_VALIDATORS,t.Validators=A.Validators,r(n(375))},340:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(341),i=n(343),s=n(345),a=n(352),c=n(363),l=n(365),u=n(358),p=n(359),h=n(368),d=n(369),f=n(371),m=n(372),y=n(360),g=n(361),v=n(373),b=n(341);t.CheckboxControlValueAccessor=b.CheckboxControlValueAccessor;var _=n(343);t.DefaultValueAccessor=_.DefaultValueAccessor;var C=n(346);t.NgControl=C.NgControl;var S=n(345);t.NgControlStatus=S.NgControlStatus;var E=n(352);t.NgForm=E.NgForm;var V=n(363);t.NgModel=V.NgModel;var w=n(365);t.NgModelGroup=w.NgModelGroup;var A=n(358);t.NumberValueAccessor=A.NumberValueAccessor;var O=n(359);t.RadioControlValueAccessor=O.RadioControlValueAccessor;var N=n(368);t.FormControlDirective=N.FormControlDirective;var R=n(369);t.FormControlName=R.FormControlName;var P=n(371);t.FormGroupDirective=P.FormGroupDirective;var x=n(372);t.FormArrayName=x.FormArrayName,t.FormGroupName=x.FormGroupName;var M=n(360);t.NgSelectOption=M.NgSelectOption,t.SelectControlValueAccessor=M.SelectControlValueAccessor;var D=n(361);t.NgSelectMultipleOption=D.NgSelectMultipleOption,t.SelectMultipleControlValueAccessor=D.SelectMultipleControlValueAccessor;var k=n(373);t.MaxLengthValidator=k.MaxLengthValidator,t.MinLengthValidator=k.MinLengthValidator,t.PatternValidator=k.PatternValidator,t.RequiredValidator=k.RequiredValidator,t.SHARED_FORM_DIRECTIVES=[y.NgSelectOption,g.NgSelectMultipleOption,i.DefaultValueAccessor,u.NumberValueAccessor,o.CheckboxControlValueAccessor,y.SelectControlValueAccessor,g.SelectMultipleControlValueAccessor,p.RadioControlValueAccessor,s.NgControlStatus,v.RequiredValidator,v.MinLengthValidator,v.MaxLengthValidator,v.PatternValidator],t.TEMPLATE_DRIVEN_DIRECTIVES=[c.NgModel,l.NgModelGroup,a.NgForm],t.REACTIVE_DRIVEN_DIRECTIVES=[h.FormControlDirective,f.FormGroupDirective,d.FormControlName,m.FormGroupName,m.FormArrayName],t.FORM_DIRECTIVES=[t.TEMPLATE_DRIVEN_DIRECTIVES,t.SHARED_FORM_DIRECTIVES],t.REACTIVE_FORM_DIRECTIVES=[t.REACTIVE_DRIVEN_DIRECTIVES,t.SHARED_FORM_DIRECTIVES];var T=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:t.SHARED_FORM_DIRECTIVES,exports:t.SHARED_FORM_DIRECTIVES}]}],e}();t.InternalFormsSharedModule=T},341:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(342);t.CHECKBOX_VALUE_ACCESSOR={provide:o.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return i}),multi:!0};var i=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[t.CHECKBOX_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:r.Renderer},{type:r.ElementRef}],e}();t.CheckboxControlValueAccessor=i},342:239,343:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(344),i=n(342);t.DEFAULT_VALUE_ACCESSOR={provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return s}),multi:!0};var s=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=o.isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:r.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[t.DEFAULT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:r.Renderer},{type:r.ElementRef}],e}();t.DefaultValueAccessor=s},344:15,345:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(344),i=n(346),s=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!o.isPresent(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!o.isPresent(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!o.isPresent(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!o.isPresent(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!o.isPresent(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!o.isPresent(this._cd.control)&&!this._cd.control.valid},enumerable:!0,configurable:!0}),e.decorators=[{type:r.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],e.ctorParameters=[{type:i.NgControl,decorators:[{type:r.Self}]}],e}();t.NgControlStatus=s},346:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(347),i=n(351),s=function(e){function t(){e.apply(this,arguments),this.name=null,this.valueAccessor=null}return r(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),t}(i.AbstractControlDirective);t.NgControl=s},347:[992,348,349,349],348:29,349:[993,348,350,344],350:[994,344],351:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(347),o=n(344),i=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){return r.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return o.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return o.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return o.isPresent(this.control)?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return o.isPresent(this.control)?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return o.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return o.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return o.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return o.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return o.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return o.isPresent(this.control)?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return o.isPresent(this.control)?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),o.isPresent(this.control)&&this.control.reset(e)},e}();t.AbstractControlDirective=i},352:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(353),s=n(350),a=n(344),c=n(354),l=n(356),u=n(362),p=n(355);t.formDirectiveProvider={provide:u.ControlContainer,useExisting:o.forwardRef(function(){return d})};var h=Promise.resolve(null),d=function(e){function n(t,n){e.call(this),this._submitted=!1,this.ngSubmit=new i.EventEmitter,this.form=new c.FormGroup({},null,p.composeValidators(t),p.composeAsyncValidators(n))}return r(n,e),Object.defineProperty(n.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),n.prototype.addControl=function(e){var t=this;h.then(function(){var n=t._findContainer(e.path);e._control=n.registerControl(e.name,e.control),p.setUpControl(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},n.prototype.getControl=function(e){return this.form.get(e.path)},n.prototype.removeControl=function(e){var t=this;h.then(function(){var n=t._findContainer(e.path);a.isPresent(n)&&n.removeControl(e.name)})},n.prototype.addFormGroup=function(e){var t=this;h.then(function(){var n=t._findContainer(e.path),r=new c.FormGroup({});p.setUpFormContainer(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},n.prototype.removeFormGroup=function(e){var t=this;h.then(function(){var n=t._findContainer(e.path);a.isPresent(n)&&n.removeControl(e.name)})},n.prototype.getFormGroup=function(e){return this.form.get(e.path)},n.prototype.updateModel=function(e,t){var n=this;h.then(function(){var r=n.form.get(e.path);r.setValue(t)})},n.prototype.setValue=function(e){this.control.setValue(e)},n.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},n.prototype.onReset=function(){this.form.reset()},n.prototype._findContainer=function(e){return e.pop(),s.ListWrapper.isEmpty(e)?this.form:this.form.get(e)},n.decorators=[{type:o.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[t.formDirectiveProvider],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],n.ctorParameters=[{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[l.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[l.NG_ASYNC_VALIDATORS]}]}],n}(u.ControlContainer);t.NgForm=d},353:68,354:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e){return e instanceof m}function o(e,t,n){return f.isBlank(t)?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&h.ListWrapper.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof g)return f.isPresent(e.controls[t])?e.controls[t]:null;if(e instanceof v){var n=t;return f.isPresent(e.at(n))?e.at(n):null}return null},e))}function i(e){return f.isPromise(e)?l.PromiseObservable.create(e):e}function s(e){return Array.isArray(e)?u.composeValidators(e):e}function a(e){return Array.isArray(e)?u.composeAsyncValidators(e):e}var c=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(258),u=n(355),p=n(353),h=n(350),d=n(347),f=n(344);t.VALID="VALID",t.INVALID="INVALID",t.PENDING="PENDING",t.isControl=r;var m=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._status===t.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this._status===t.INVALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this._status==t.PENDING},enumerable:!0,configurable:!0}),e.prototype.setAsyncValidators=function(e){this.asyncValidator=a(e)},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.setValidators=function(e){this.validator=s(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.markAsTouched=function(e){var t=(void 0===e?{}:e).onlySelf;t=f.normalizeBool(t),this._touched=!0,f.isPresent(this._parent)&&!t&&this._parent.markAsTouched({onlySelf:t})},e.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=f.normalizeBool(t),this._pristine=!1,f.isPresent(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},e.prototype.markAsPristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!0,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),f.isPresent(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype.markAsUntouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),f.isPresent(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype.markAsPending=function(e){var n=(void 0===e?{}:e).onlySelf;n=f.normalizeBool(n),this._status=t.PENDING,f.isPresent(this._parent)&&!n&&this._parent.markAsPending({onlySelf:n})},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){var n=void 0===e?{}:e,r=n.onlySelf,o=n.emitEvent;r=f.normalizeBool(r),o=!f.isPresent(o)||o,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=t.VALID&&this._status!=t.PENDING||this._runAsyncValidator(o),o&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),f.isPresent(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:o})},e.prototype._runValidator=function(){return f.isPresent(this.validator)?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var n=this;if(f.isPresent(this.asyncValidator)){this._status=t.PENDING,this._cancelExistingSubscription();var r=i(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe({next:function(t){return n.setErrors(t,{emitEvent:e})}})}},e.prototype._cancelExistingSubscription=function(){f.isPresent(this._asyncValidationSubscription)&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){var n=(void 0===t?{}:t).emitEvent;n=!f.isPresent(n)||n,this._errors=e,this._updateControlsErrors(n)},e.prototype.find=function(e){return o(this,e,"/")},e.prototype.get=function(e){return o(this,e,".")},e.prototype.getError=function(e,t){void 0===t&&(t=null);var n=f.isPresent(t)&&!h.ListWrapper.isEmpty(t)?this.find(t):this;return f.isPresent(n)&&f.isPresent(n._errors)?h.StringMapWrapper.get(n._errors,e):null},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),f.isPresent(this.getError(e,t))},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;f.isPresent(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),f.isPresent(this._parent)&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this._valueChanges=new p.EventEmitter,this._statusChanges=new p.EventEmitter},e.prototype._calculateStatus=function(){return f.isPresent(this._errors)?t.INVALID:this._anyControlsHaveStatus(t.PENDING)?t.PENDING:this._anyControlsHaveStatus(t.INVALID)?t.INVALID:t.VALID},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status==e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!this._anyControlsDirty(),f.isPresent(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype._updateTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=this._anyControlsTouched(),f.isPresent(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e}();t.AbstractControl=m;var y=function(e){function t(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,s(n),a(r)),this._onChange=[],this._value=t,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return c(t,e),t.prototype.setValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent,s=r.emitModelToViewChange,a=r.emitViewToModelChange;s=!f.isPresent(s)||s,a=!f.isPresent(a)||a,this._value=e,this._onChange.length&&s&&this._onChange.forEach(function(e){return e(n._value,a)}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.updateValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null);var n=(void 0===t?{}:t).onlySelf;this.markAsPristine({onlySelf:n}),this.markAsUntouched({onlySelf:n}),this.setValue(e,{onlySelf:n})},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._forEachChild=function(e){},t}(m);t.FormControl=y;var g=function(e){function t(t,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.controls=t,this._optionals=f.isPresent(n)?n:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return c(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity()},t.prototype.removeControl=function(e){h.StringMapWrapper["delete"](this.controls,e),this.updateValueAndValidity()},t.prototype.include=function(e){h.StringMapWrapper.set(this._optionals,e,!0),this.updateValueAndValidity()},t.prototype.exclude=function(e){h.StringMapWrapper.set(this._optionals,e,!1),this.updateValueAndValidity()},t.prototype.contains=function(e){var t=h.StringMapWrapper.contains(this.controls,e);return t&&this._included(e)},t.prototype.setValue=function(e,t){var n=this,r=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),h.StringMapWrapper.forEach(e,function(e,t){n._throwIfControlMissing(t),n.controls[t].setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r})},t.prototype.patchValue=function(e,t){var n=this,r=(void 0===t?{}:t).onlySelf;h.StringMapWrapper.forEach(e,function(e,t){n.controls[t]&&n.controls[t].patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r})},t.prototype.reset=function(e,t){void 0===e&&(e={});var n=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,n){t.reset(e[n],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n}),this._updatePristine({onlySelf:n}),this._updateTouched({onlySelf:n})},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new d.BaseException("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new d.BaseException("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){h.StringMapWrapper.forEach(this.controls,e)},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t,n){t.setParent(e)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(r,o){n=n||t.contains(o)&&e(r)}),n},t.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t.value,e})},t.prototype._reduceChildren=function(e,t){var n=this,r=e;return this._forEachChild(function(e,o){n._included(o)&&(r=t(r,e,o))}),r},t.prototype._included=function(e){var t=h.StringMapWrapper.contains(this._optionals,e);return!t||h.StringMapWrapper.get(this._optionals,e)},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new d.BaseException("Must supply a value for form control with name: '"+n+"'.")})},t}(m);t.FormGroup=g;var v=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return c(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},t.prototype.insert=function(e,t){h.ListWrapper.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},t.prototype.removeAt=function(e){h.ListWrapper.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this,r=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),e.forEach(function(e,t){n._throwIfControlMissing(t),n.at(t).setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r})},t.prototype.patchValue=function(e,t){var n=this,r=(void 0===t?{}:t).onlySelf;e.forEach(function(e,t){n.at(t)&&n.at(t).patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r})},t.prototype.reset=function(e,t){void 0===e&&(e=[]);var n=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,n){t.reset(e[n],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n}),this._updatePristine({onlySelf:n}),this._updateTouched({onlySelf:n})},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new d.BaseException("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new d.BaseException("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return e(t)})},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new d.BaseException("Must supply a value for form control at index: "+n+".")})},t}(m);t.FormArray=v},355:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e,t){var n=p.ListWrapper.clone(t.path);return n.push(e),n}function o(e,t){d.isBlank(e)&&s(t,"Cannot find control with"),d.isBlank(t.valueAccessor)&&s(t,"No value accessor for form control with"),e.validator=f.Validators.compose([e.validator,t.validator]),e.asyncValidator=f.Validators.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n),e.markAsDirty(),e.setValue(n,{emitModelToViewChange:!1})}),e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}function i(e,t){d.isBlank(e)&&s(t,"Cannot find control with"),e.validator=f.Validators.compose([e.validator,t.validator]),e.asyncValidator=f.Validators.composeAsync([e.asyncValidator,t.asyncValidator])}function s(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new h.BaseException(t+" "+n)}function a(e){return d.isPresent(e)?f.Validators.compose(e.map(g.normalizeValidator)):null}function c(e){return d.isPresent(e)?f.Validators.composeAsync(e.map(g.normalizeAsyncValidator)):null}function l(e,t){if(!p.StringMapWrapper.contains(e,"model"))return!1;var n=e.model;return!!n.isFirstChange()||!d.looseIdentical(t,n.currentValue)}function u(e,t){if(d.isBlank(t))return null;var n,r,o;return t.forEach(function(t){d.hasConstructor(t,y.DefaultValueAccessor)?n=t:d.hasConstructor(t,m.CheckboxControlValueAccessor)||d.hasConstructor(t,v.NumberValueAccessor)||d.hasConstructor(t,_.SelectControlValueAccessor)||d.hasConstructor(t,C.SelectMultipleControlValueAccessor)||d.hasConstructor(t,b.RadioControlValueAccessor)?(d.isPresent(r)&&s(e,"More than one built-in value accessor matches form control with"),r=t):(d.isPresent(o)&&s(e,"More than one custom value accessor matches form control with"),o=t)}),d.isPresent(o)?o:d.isPresent(r)?r:d.isPresent(n)?n:(s(e,"No valid value accessor for form control with"),null)}var p=n(350),h=n(347),d=n(344),f=n(356),m=n(341),y=n(343),g=n(357),v=n(358),b=n(359),_=n(360),C=n(361);t.controlPath=r,t.setUpControl=o,t.setUpFormContainer=i,t.composeValidators=a,t.composeAsyncValidators=c,t.isPropertyUpdated=l,t.selectValueAccessor=u},356:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e){return u.isPromise(e)?e:c.toPromise.call(e)}function o(e,t){return t.map(function(t){return t(e)})}function i(e,t){return t.map(function(t){return t(e)})}function s(e){var t=e.reduce(function(e,t){return u.isPresent(t)?l.StringMapWrapper.merge(e,t):e},{});return l.StringMapWrapper.isEmpty(t)?null:t}var a=n(11),c=n(243),l=n(350),u=n(344);t.NG_VALIDATORS=new a.OpaqueToken("NgValidators"),t.NG_ASYNC_VALIDATORS=new a.OpaqueToken("NgAsyncValidators");var p=function(){function e(){}return e.required=function(e){return u.isBlank(e.value)||u.isString(e.value)&&""==e.value?{required:!0}:null},e.minLength=function(t){return function(n){if(u.isPresent(e.required(n)))return null;var r=n.value;return r.length<t?{minlength:{requiredLength:t,actualLength:r.length}}:null}},e.maxLength=function(t){return function(n){if(u.isPresent(e.required(n)))return null;var r=n.value;return r.length>t?{maxlength:{requiredLength:t,actualLength:r.length}}:null}},e.pattern=function(t){return function(n){if(u.isPresent(e.required(n)))return null;var r=new RegExp("^"+t+"$"),o=n.value;return r.test(o)?null:{pattern:{requiredPattern:"^"+t+"$",actualValue:o}}}},e.nullValidator=function(e){return null},e.compose=function(e){if(u.isBlank(e))return null;var t=e.filter(u.isPresent);return 0==t.length?null:function(e){return s(o(e,t))}},e.composeAsync=function(e){if(u.isBlank(e))return null;var t=e.filter(u.isPresent);return 0==t.length?null:function(e){var n=i(e,t).map(r);return Promise.all(n).then(s)}},e}();t.Validators=p},357:247,358:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(344),i=n(342);t.NUMBER_VALUE_ACCESSOR={provide:i.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return s}),multi:!0};var s=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=o.isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:o.NumberWrapper.parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:r.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[t.NUMBER_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:r.Renderer},{type:r.ElementRef}],e}();t.NumberValueAccessor=s},359:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(350),i=n(347),s=n(344),a=n(342),c=n(346);t.RADIO_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var l=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=-1,n=0;n<this._accessors.length;++n)this._accessors[n][1]===e&&(t=n);o.ListWrapper.removeAt(this._accessors,t)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&(e[0].control.root===t._control.control.root&&e[1].name===t.name)},e.decorators=[{type:r.Injectable}],e}();t.RadioControlRegistry=l;var u=function(){function e(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(c.NgControl),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,s.isPresent(e)&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new i.BaseException('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e.decorators=[{type:r.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[t.RADIO_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:r.Renderer},{type:r.ElementRef},{type:l},{type:r.Injector}],e.propDecorators={name:[{type:r.Input}],formControlName:[{type:r.Input}],value:[{type:r.Input}]},e}();t.RadioControlValueAccessor=u},360:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e,t){return a.isBlank(e)?""+t:(a.isPrimitive(t)||(t="Object"),a.StringWrapper.slice(e+": "+t,0,50))}function o(e){return e.split(":")[0]}var i=n(11),s=n(350),a=n(344),c=n(342);t.SELECT_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return l}),multi:!0};var l=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=r(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=n,e(t._getOptionValue(n))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,n=s.MapWrapper.keys(this._optionMap);t<n.length;t++){var r=n[t];if(a.looseIdentical(this._optionMap.get(r),e))return r}return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(o(e));return a.isPresent(t)?t:e},e.decorators=[{type:i.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[t.SELECT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:i.Renderer},{type:i.ElementRef}],e}();t.SelectControlValueAccessor=l;var u=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,a.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),a.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){a.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:i.Directive,args:[{selector:"option"}]}],e.ctorParameters=[{type:i.ElementRef},{type:i.Renderer},{type:l,decorators:[{type:i.Optional},{type:i.Host}]}],e.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},e}();t.NgSelectOption=u},361:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e,t){return a.isBlank(e)?""+t:(a.isString(t)&&(t="'"+t+"'"),a.isPrimitive(t)||(t="Object"),a.StringWrapper.slice(e+": "+t,0,50))}function o(e){return e.split(":")[0]}var i=n(11),s=n(350),a=n(344),c=n(342);t.SELECT_MULTIPLE_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return l}),multi:!0};var l=(function(){function e(){}return e}(),function(){function e(){this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=this;if(this.value=e,null!=e){var n=e,r=n.map(function(e){return t._getOptionId(e)});this._optionMap.forEach(function(e,t){e._setSelected(r.indexOf(t.toString())>-1)})}},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var s=o.item(i),a=t._getOptionValue(s.value);r.push(a)}else for(var o=n.options,i=0;i<o.length;i++){var s=o.item(i);if(s.selected){var a=t._getOptionValue(s.value);r.push(a)}}e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,n=s.MapWrapper.keys(this._optionMap);t<n.length;t++){var r=n[t];if(a.looseIdentical(this._optionMap.get(r)._value,e))return r}return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(o(e));return a.isPresent(t)?t._value:e},e.decorators=[{type:i.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[t.SELECT_MULTIPLE_VALUE_ACCESSOR]}]}],e.ctorParameters=[],e}());t.SelectMultipleControlValueAccessor=l;var u=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,a.isPresent(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){a.isPresent(this._select)?(this._value=e,this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){a.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:i.Directive,args:[{selector:"option"}]}],e.ctorParameters=[{type:i.ElementRef},{type:i.Renderer},{type:l,decorators:[{type:i.Optional},{type:i.Host}]}],e.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},e}();t.NgSelectMultipleOption=u,t.SELECT_DIRECTIVES=[l,u]},362:[996,351],363:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(353),s=n(354),a=n(356),c=n(364),l=n(362),u=n(342),p=n(346),h=n(352),d=n(365),f=n(355),m=n(366);t.formControlBinding={provide:p.NgControl,useExisting:o.forwardRef(function(){return g})};var y=Promise.resolve(null),g=function(e){function n(t,n,r,o){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r,this._control=new s.FormControl,this._registered=!1,this.update=new i.EventEmitter,this.valueAccessor=f.selectValueAccessor(this,o)}return r(n,e),n.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),f.isPropertyUpdated(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},n.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(n.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._parent?f.controlPath(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return f.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return f.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),n.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},n.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},n.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},n.prototype._setUpStandalone=function(){f.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},n.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},n.prototype._checkParentType=function(){!(this._parent instanceof d.NgModelGroup)&&this._parent instanceof c.AbstractFormGroupDirective?m.TemplateDrivenErrors.formGroupNameException():this._parent instanceof d.NgModelGroup||this._parent instanceof h.NgForm||m.TemplateDrivenErrors.modelParentException()},n.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||m.TemplateDrivenErrors.missingNameException()},n.prototype._updateValue=function(e){var t=this;y.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},n.decorators=[{type:o.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[t.formControlBinding],exportAs:"ngModel"}]}],n.ctorParameters=[{type:l.ControlContainer,decorators:[{type:o.Optional},{type:o.Host}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[a.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[a.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[u.NG_VALUE_ACCESSOR]}]}],n.propDecorators={model:[{type:o.Input,args:["ngModel"]}],name:[{type:o.Input}],options:[{type:o.Input,args:["ngModelOptions"]}],update:[{type:o.Output,args:["ngModelChange"]}]},n}(p.NgControl);t.NgModel=g},364:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(362),i=n(355),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return i.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return i.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return i.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(o.ControlContainer);t.AbstractFormGroupDirective=s},365:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(356),s=n(364),a=n(362),c=n(352),l=n(366);t.modelGroupProvider={provide:a.ControlContainer,useExisting:o.forwardRef(function(){return u})};var u=function(e){function n(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return r(n,e),n.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof c.NgForm||l.TemplateDrivenErrors.modelGroupParentException()},n.decorators=[{type:o.Directive,args:[{selector:"[ngModelGroup]",providers:[t.modelGroupProvider],exportAs:"ngModelGroup"}]}],n.ctorParameters=[{type:a.ControlContainer,decorators:[{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.NG_ASYNC_VALIDATORS]}]}],n.propDecorators={name:[{type:o.Input,args:["ngModelGroup"]}]},n}(s.AbstractFormGroupDirective);t.NgModelGroup=u},366:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(347),o=n(367),i=function(){function e(){}return e.modelParentException=function(){throw new r.BaseException('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+o.FormErrorExamples.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+o.FormErrorExamples.ngModelWithFormGroup)},e.formGroupNameException=function(){throw new r.BaseException("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+o.FormErrorExamples.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+o.FormErrorExamples.ngModelGroup)},e.missingNameException=function(){throw new r.BaseException('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new r.BaseException("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+o.FormErrorExamples.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+o.FormErrorExamples.ngModelGroup)},e}();t.TemplateDrivenErrors=i},367:function(e,t){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";t.FormErrorExamples={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '}},368:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(353),s=n(350),a=n(356),c=n(342),l=n(346),u=n(355);t.formControlBinding={provide:l.NgControl,useExisting:o.forwardRef(function(){return p})};var p=function(e){function n(t,n,r){e.call(this),this._validators=t,this._asyncValidators=n,this.update=new i.EventEmitter,this.valueAccessor=u.selectValueAccessor(this,r)}return r(n,e),n.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(u.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),u.isPropertyUpdated(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return u.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return u.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),n.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},n.prototype._isControlChanged=function(e){return s.StringMapWrapper.contains(e,"form")},n.decorators=[{type:o.Directive,args:[{selector:"[formControl]",providers:[t.formControlBinding],exportAs:"ngForm"}]}],n.ctorParameters=[{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[a.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[a.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[c.NG_VALUE_ACCESSOR]}]}],n.propDecorators={form:[{type:o.Input,args:["formControl"]}],model:[{type:o.Input,args:["ngModel"]}],update:[{type:o.Output,args:["ngModelChange"]}]},n}(l.NgControl);t.FormControlDirective=p},369:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(353),s=n(356),a=n(364),c=n(362),l=n(342),u=n(346),p=n(370),h=n(355),d=n(371),f=n(372);t.controlNameBinding={provide:u.NgControl,useExisting:o.forwardRef(function(){return m})};var m=function(e){function n(t,n,r,o){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r,this._added=!1,this.update=new i.EventEmitter,this.valueAccessor=h.selectValueAccessor(this,o)}return r(n,e),n.prototype.ngOnChanges=function(e){this._added||(this._checkParentType(),this.formDirective.addControl(this),this._added=!0),h.isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},n.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},n.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(n.prototype,"path",{get:function(){return h.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return h.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return h.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),n.prototype._checkParentType=function(){!(this._parent instanceof f.FormGroupName)&&this._parent instanceof a.AbstractFormGroupDirective?p.ReactiveErrors.ngModelGroupException():this._parent instanceof f.FormGroupName||this._parent instanceof d.FormGroupDirective||this._parent instanceof f.FormArrayName||p.ReactiveErrors.controlParentException()},n.decorators=[{type:o.Directive,args:[{selector:"[formControlName]",providers:[t.controlNameBinding]}]}],n.ctorParameters=[{type:c.ControlContainer,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[s.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[s.NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[l.NG_VALUE_ACCESSOR]}]}],n.propDecorators={name:[{type:o.Input,args:["formControlName"]}],model:[{type:o.Input,args:["ngModel"]}],update:[{type:o.Output,args:["ngModelChange"]}]},n}(u.NgControl);t.FormControlName=m},370:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(347),o=n(367),i=function(){function e(){}return e.controlParentException=function(){throw new r.BaseException("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+o.FormErrorExamples.formControlName)},e.ngModelGroupException=function(){throw new r.BaseException('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+o.FormErrorExamples.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+o.FormErrorExamples.ngModelGroup)},e.missingFormException=function(){throw new r.BaseException("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+o.FormErrorExamples.formControlName)},e.groupParentException=function(){throw new r.BaseException("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+o.FormErrorExamples.formGroupName)},e.arrayParentException=function(){throw new r.BaseException("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+o.FormErrorExamples.formArrayName)},e}();t.ReactiveErrors=i},371:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(11),i=n(353),s=n(350),a=n(344),c=n(356),l=n(362),u=n(370),p=n(355);t.formDirectiveProvider={provide:l.ControlContainer,useExisting:o.forwardRef(function(){return h})};var h=function(e){function n(t,n){e.call(this),this._validators=t,this._asyncValidators=n,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.EventEmitter}return r(n,e),n.prototype.ngOnChanges=function(e){if(this._checkFormPresent(),s.StringMapWrapper.contains(e,"form")){var t=p.composeValidators(this._validators);this.form.validator=c.Validators.compose([this.form.validator,t]);var n=p.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=c.Validators.composeAsync([this.form.asyncValidator,n]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(n.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),n.prototype.addControl=function(e){var t=this.form.get(e.path);p.setUpControl(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},n.prototype.getControl=function(e){return this.form.get(e.path)},n.prototype.removeControl=function(e){s.ListWrapper.remove(this.directives,e)},n.prototype.addFormGroup=function(e){var t=this.form.get(e.path);p.setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},n.prototype.removeFormGroup=function(e){},n.prototype.getFormGroup=function(e){return this.form.get(e.path)},n.prototype.addFormArray=function(e){var t=this.form.get(e.path);p.setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},n.prototype.removeFormArray=function(e){},n.prototype.getFormArray=function(e){return this.form.get(e.path)},n.prototype.updateModel=function(e,t){var n=this.form.get(e.path);n.setValue(t)},n.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},n.prototype.onReset=function(){this.form.reset()},n.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var n=e.form.get(t.path);t.valueAccessor.writeValue(n.value)})},n.prototype._checkFormPresent=function(){a.isBlank(this.form)&&u.ReactiveErrors.missingFormException()},n.decorators=[{type:o.Directive,args:[{selector:"[formGroup]",providers:[t.formDirectiveProvider],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},exportAs:"ngForm"}]}],n.ctorParameters=[{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[c.NG_VALIDATORS]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[c.NG_ASYNC_VALIDATORS]}]}],n.propDecorators={form:[{type:o.Input,args:["formGroup"]}],ngSubmit:[{type:o.Output}]},n}(l.ControlContainer);t.FormGroupDirective=h},372:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(e){return!(e instanceof h||e instanceof p.FormGroupDirective||e instanceof d)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(11),s=n(356),a=n(364),c=n(362),l=n(370),u=n(355),p=n(371);t.formGroupNameProvider={provide:c.ControlContainer,useExisting:i.forwardRef(function(){return h})};var h=function(e){function n(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return o(n,e),n.prototype._checkParentType=function(){r(this._parent)&&l.ReactiveErrors.groupParentException()},n.decorators=[{type:i.Directive,args:[{selector:"[formGroupName]",providers:[t.formGroupNameProvider]}]}],n.ctorParameters=[{type:c.ControlContainer,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[s.NG_VALIDATORS]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[s.NG_ASYNC_VALIDATORS]}]}],n.propDecorators={name:[{type:i.Input,args:["formGroupName"]}]},n}(a.AbstractFormGroupDirective);t.FormGroupName=h,t.formArrayNameProvider={provide:c.ControlContainer,useExisting:i.forwardRef(function(){return d})};var d=function(e){function n(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return o(n,e),n.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},n.prototype.ngOnDestroy=function(){this.formDirective.removeFormArray(this)},Object.defineProperty(n.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return u.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return u.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return u.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),n.prototype._checkParentType=function(){r(this._parent)&&l.ReactiveErrors.arrayParentException()},n.decorators=[{type:i.Directive,args:[{selector:"[formArrayName]",providers:[t.formArrayNameProvider]}]}],n.ctorParameters=[{type:c.ControlContainer,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[s.NG_VALIDATORS]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[s.NG_ASYNC_VALIDATORS]}]}],n.propDecorators={name:[{type:i.Input,args:["formArrayName"]}]},n}(c.ControlContainer);t.FormArrayName=d},373:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(344),i=n(356);t.REQUIRED=i.Validators.required,t.REQUIRED_VALIDATOR={provide:i.NG_VALIDATORS,useValue:t.REQUIRED,multi:!0};var s=function(){function e(){}return e.decorators=[{type:r.Directive,args:[{selector:"[required][formControlName],[required][formControl],[required][ngModel]",providers:[t.REQUIRED_VALIDATOR]}]}],e}();t.RequiredValidator=s,t.MIN_LENGTH_VALIDATOR={provide:i.NG_VALIDATORS,useExisting:r.forwardRef(function(){return a}),multi:!0};var a=function(){function e(e){this._validator=i.Validators.minLength(o.NumberWrapper.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e.decorators=[{type:r.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[t.MIN_LENGTH_VALIDATOR]}]}],e.ctorParameters=[{type:void 0,decorators:[{type:r.Attribute,args:["minlength"]}]}],e}();t.MinLengthValidator=a,t.MAX_LENGTH_VALIDATOR={provide:i.NG_VALIDATORS,useExisting:r.forwardRef(function(){return c}),multi:!0};var c=function(){function e(e){this._validator=i.Validators.maxLength(o.NumberWrapper.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e.decorators=[{type:r.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[t.MAX_LENGTH_VALIDATOR]}]}],e.ctorParameters=[{type:void 0,decorators:[{type:r.Attribute,args:["maxlength"]}]}],e}();t.MaxLengthValidator=c,t.PATTERN_VALIDATOR={provide:i.NG_VALIDATORS,useExisting:r.forwardRef(function(){return l}),multi:!0};var l=function(){function e(e){this._validator=i.Validators.pattern(e)}return e.prototype.validate=function(e){return this._validator(e)},e.decorators=[{type:r.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[t.PATTERN_VALIDATOR]}]}],e.ctorParameters=[{type:void 0,decorators:[{type:r.Attribute,args:["pattern"]}]}],e}();t.PatternValidator=l},374:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";var r=n(11),o=n(350),i=n(344),s=n(354),a=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var n=this._reduceControls(e),r=i.isPresent(t)?o.StringMapWrapper.get(t,"optionals"):null,a=i.isPresent(t)?o.StringMapWrapper.get(t,"validator"):null,c=i.isPresent(t)?o.StringMapWrapper.get(t,"asyncValidator"):null;return new s.FormGroup(n,r,a,c)},e.prototype.control=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new s.FormControl(e,t,n)},e.prototype.array=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var o=e.map(function(e){return r._createControl(e)});return new s.FormArray(o,t,n)},e.prototype._reduceControls=function(e){var t=this,n={};return o.StringMapWrapper.forEach(e,function(e,r){n[r]=t._createControl(e)}),n},e.prototype._createControl=function(e){if(e instanceof s.FormControl||e instanceof s.FormGroup||e instanceof s.FormArray)return e;if(i.isArray(e)){var t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)},e.decorators=[{type:r.Injectable}],e}();t.FormBuilder=a},375:function(e,t,n){/**
	 * @license
	 * Copyright Google Inc. All Rights Reserved.
	 *
	 * Use of this source code is governed by an MIT-style license that can be
	 * found in the LICENSE file at https://angular.io/license
	 */
"use strict";function r(){return[]}function o(){return[{provide:i.PLATFORM_DIRECTIVES,useValue:s.FORM_DIRECTIVES,multi:!0},t.REACTIVE_FORM_PROVIDERS]}var i=n(11),s=n(340),a=n(359),c=n(374);t.FORM_PROVIDERS=[a.RadioControlRegistry],t.REACTIVE_FORM_PROVIDERS=[c.FormBuilder,a.RadioControlRegistry];var l=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:s.TEMPLATE_DRIVEN_DIRECTIVES,providers:[t.FORM_PROVIDERS],exports:[s.InternalFormsSharedModule,s.TEMPLATE_DRIVEN_DIRECTIVES]}]}],e}();t.FormsModule=l;var u=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[s.REACTIVE_DRIVEN_DIRECTIVES],providers:[t.REACTIVE_FORM_PROVIDERS],exports:[s.InternalFormsSharedModule,s.REACTIVE_DRIVEN_DIRECTIVES]}]}],e}();t.ReactiveFormsModule=u,t.disableDeprecatedForms=r,t.provideForms=o},376:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11);n(377);var s=n(381),a=n(664),c=n(673),l=function(){function e(e){this.resizeService=e,this.sidebarStyle={},this.contentStyle={}}return e.prototype.onSidebarResizeEnd=function(e){console.log("sidebar resize end rectangle",e.rectangle),this.resizeService.sidebarResizeStream.next(e.rectangle.width+17),this.sidebarStyle={width:e.rectangle.width+"px",position:"fixed"},this.contentStyle={left:e.rectangle.width+"px"}},e.prototype.validateSidebarResize=function(e){var t=50,n=500;return!(e.rectangle.width<t||e.rectangle.width>n)},e=r([i.Component({selector:"my-app",directives:[s.SidebarComponent,a.WebglViewComponent],template:n(675),styles:[n(676)]}),o("design:paramtypes",[c.ResizeService])],e)}();t.AppComponent=l},377:function(e,t){},381:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(382),a=n(391),c=n(656),l=n(659),u=n(392),p=function(){function e(){this.toggled={displayOptions:!1,noiseTree:!1,noiseOptions:!1,stringifiedNoise:!1},this.Math=Math,this.baseNoise=new u.NoiseModel}return e.prototype.toggleSection=function(e){console.log("toggling section",e),this.toggled[e]=!this.toggled[e]},e=r([i.Component({selector:"sidebar",directives:[s.ThreeDOptionsComponent,a.NoiseTreeComponent,c.NoiseOptionsComponent,l.StringifiedNoiseComponent],template:n(662),styles:[n(663)]}),o("design:paramtypes",[])],e)}();t.SidebarComponent=p},382:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(383),a=n(386),c=n(387),l=function(){function e(e){this.viewOptionService=e,this.options=new a.ThreeDOptionsModel}return e.prototype.updateView=function(){this.viewOptionService.viewOptionStream.next(this.options),console.log("updating view")},e=r([i.Component({selector:"three-d-options",directives:[s.SliderComponent],template:n(389),styles:[n(390)],encapsulation:i.ViewEncapsulation.None}),o("design:paramtypes",[c.ViewOptionService])],e)}();t.ThreeDOptionsComponent=l},383:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(11),a=n(205),c=n(338),l=new s.Provider(a.NG_VALUE_ACCESSOR,{useExisting:s.forwardRef(function(){return u}),multi:!0}),u=function(){function e(e){this._value=0,this.onChange=function(e){},this.onTouched=function(){},e&&(e.valueAccessor=this)}return e.prototype.getValue=function(){return this._value},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=parseFloat(e),this.onChange(parseFloat(e)))},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this._value=e,this.onChange(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e=r([s.Component({selector:"slider",inputs:["min","max","label","sliderName","description","step","startingValue"],outputs:["value"],providers:[l],directives:[a.CORE_DIRECTIVES],template:n(384),styles:[n(385)]}),i(0,s.Optional()),o("design:paramtypes",[c.NgControl])],e)}();t.SliderComponent=u},384:function(e,t){e.exports='<div class="header-row">\r\n    <label [attr.title]="description" [attr.for]="sliderName">{{label}}</label>\r\n    <input type="number" [(ngModel)]="value" placeholder="{{startingValue}}">\r\n</div>\r\n<div class="slider-row">\r\n    <div class="slider">\r\n        <span>{{min}}</span>\r\n        <input [(ngModel)]="value" min="{{min}}" max="{{max}}" step={{step}} value="{{startingValue}}" name="{{sliderName}}" type="range"/>\r\n        <span>{{max}}</span>\r\n    </div>\r\n</div>\r\n'},385:function(e,t){e.exports=':host {\r\n    margin: 2px;\r\n    display: block;\r\n}\r\n\r\n.header-row {\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n\r\n.header-row label {\r\n    width: 60%;\r\n    cursor: help;\r\n    display: inline-block;\r\n}\r\n\r\n.header-row input {\r\n    float: right;\r\n    z-index: -1;\r\n    width: 30%;\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.slider {\r\n    padding: 5px 0 5px 0;\r\n    display: flex;\r\n}\r\n\r\nspan {\r\n    padding: 0 5px 0 5px;\r\n}\r\n\r\ninput[type="range"] {\r\n    width: 0px;\r\n    margin: auto;\r\n    flex: auto; \r\n}\r\n\r\nlabel {\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n}\r\n\r\np {\r\n    margin: 0;\r\n    font-size: 12px;\r\n    color: gray;\r\n}\r\n\r\ninput[type="number"] {\r\n    text-align: center;\r\n}'},386:function(e,t){"use strict";var n=function(){function e(e,t,n){this.segmentsPerChunk=e,this.chunkSize=t,this.renderDistance=n,this.segmentsPerChunk=this.segmentsPerChunk||30,this.chunkSize=this.chunkSize||5e3,this.renderDistance=this.renderDistance||25e3}return e}();t.ThreeDOptionsModel=n},387:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(388),a=n(386),c=function(){function e(){this.viewOptionStream=new s.BehaviorSubject(new a.ThreeDOptionsModel)}return e=r([i.Injectable(),o("design:paramtypes",[])],e)}();t.ViewOptionService=c},389:function(e,t){e.exports='<div class="option">\r\n    <slider [min]="1000" [max]="100000" [label]="\'Render Distance\'"\r\n        [(ngModel)]="options.renderDistance"\r\n        [description]="\'Chunks within this radius from the OrbitControls target are loaded\'"\r\n        [sliderName]="renderDistance" [startingValue]="25000" [step]="1000"></slider>\r\n</div>\r\n<div class="option">\r\n    <slider [min]="500" [max]="10000" [label]="\'Chunk Size\'"\r\n        [(ngModel)]="options.chunkSize"\r\n        [description]="\'The size of each chunk, in Three.JS units\'"\r\n        [sliderName]="chunkSize" [startingValue]="5000" [step]="10"></slider>\r\n</div>\r\n<div class="option">\r\n    <slider [min]="1" [max]="200" [label]="\'Chunk Segments\'"\r\n        [(ngModel)]="options.segmentsPerChunk"\r\n        [description]="\'Number of segments in each edge of the chunk mesh. A higher value means that the noise will be more accurately represented.\'"\r\n        [sliderName]="chunkSegments" [startingValue]="30" [step]="1"></slider>\r\n</div>\r\n\r\n<button (click)="updateView()" class="pure-button">Update View</button>\r\n'},390:function(e,t){e.exports='h2 {\r\n    margin-top: 0;\r\n}\r\n\r\n.option .slider-container {\r\n    display: flex;\r\n}\r\n\r\n.option input[type="range"] {\r\n    width: 100%;\r\n}'},391:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(392),a=n(393),c=n(394),l=function(){function e(e,t){this.noiseOptionService=e,this.contextMenuService=t,this.showChildren=!0,this.selectedNoise=!1}return e.prototype.toggleShowChildren=function(){console.log("toggling show children"),this.showChildren=!this.showChildren},e.prototype.addChildNoise=function(){var e=this;console.log("calling updateRootNoise"),setInterval(function(){e.showChildren=!0},0),this.noiseModel.children.push(new s.NoiseModel),this.noiseOptionService.updateRootNoise(this.noiseModel)},e.prototype.selectNoise=function(){console.log("selecting noise"),this.selectedNoise=!0,this.noiseOptionService.selectNoise(this.noiseModel)},e.prototype.deleteNoise=function(){this.noiseOptionService.deleteNoise(this.noiseModel.uid),this.noiseOptionService.selectRootNoise()},e.prototype.ngOnInit=function(){var e=this;this.noiseOptionService.newNoiseStream.subscribe(function(t){e.root&&(console.log("setting root noise in newNoiseStr"),e.noiseModel=t)}),this.noiseOptionService.getSelectedNoiseStream().subscribe(function(t){t.uid!=e.noiseModel.uid&&(e.selectedNoise=!1)}),this.noiseOptionService.getDeletedNoiseStream().subscribe(function(t){for(var n=0;n<=e.noiseModel.children.length;n++)if(t==e.noiseModel.children[n].uid)return void e.noiseModel.children.splice(n,1)}),this.contextMenuActions=new Array,this.contextMenuActions.push({html:function(){return"Select this noise"},click:function(t){return e.selectNoise()}}),this.contextMenuActions.push({html:function(){return"Add child noise"},click:function(t){return e.addChildNoise()}}),this.root||this.contextMenuActions.push({html:function(){return"Delete this noise"},click:function(t){return e.deleteNoise()}}),this.root&&(this.noiseOptionService.updateRootNoise(this.noiseModel),this.selectNoise())},e.prototype.onContextMenu=function(e,t){this.contextMenuService.show.next({actions:this.contextMenuActions,event:e,item:t}),e.preventDefault()},e=r([i.Component({selector:"noise-tree",inputs:["root","noiseModel","xoffset"],host:{"class":"noise-tree"},directives:[e,c.ContextMenuComponent],providers:[c.ContextMenuService],template:n(653),styles:[n(654),n(655)]}),o("design:paramtypes",[a.NoiseOptionService,c.ContextMenuService])],e)}();t.NoiseTreeComponent=l},392:function(e,t){"use strict";var n=function(){function e(e,t,n,r,o,i,s,a,c,l){this.type=e,this.baseHeight=t,this.octaves=n,this.persistence=r,this.lancunarity=o,this.frequency=i,this.low=s,this.high=a,this.operation=c,this.children=l,this.type=this.type||"simplex",this.baseHeight=this.baseHeight||100,this.octaves=this.octaves||1,this.persistence=this.persistence||.5,this.lancunarity=this.lancunarity||2,this.frequency=this.frequency||1,this.low=this.low||0,this.high=this.high||1e3,this.operation=this.operation||"add",this.children=this.children||[],this.uid=Math.random()}return e}();t.NoiseModel=n},393:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(392),a=n(69),c=n(388),l=function(){function e(){this.rootNoise=new s.NoiseModel,this.newNoiseStream=new a.Subject,this.selectedNoiseStream=new c.BehaviorSubject(this.rootNoise),this.rootNoiseStream=new c.BehaviorSubject(this.rootNoise),this.deletedNoiseStream=new a.Subject}return e.prototype.selectNoise=function(e){console.log("selectnoise",e),this.selectedNoiseStream.next(e)},e.prototype.deleteNoise=function(e){this.deletedNoiseStream.next(e)},e.prototype.loadNewRootNoise=function(e){this.newNoiseStream.next(e),this.updateRootNoise(e)},e.prototype.updateRootNoise=function(e){console.log("updateRootNoise called"),this.rootNoise=e||this.rootNoise,this.rootNoiseStream.next(this.rootNoise),this.selectRootNoise()},e.prototype.selectRootNoise=function(){this.selectedNoiseStream.next(this.rootNoise)},e.prototype.getDeletedNoiseStream=function(){return this.deletedNoiseStream},e.prototype.getSelectedNoiseStream=function(){return this.selectedNoiseStream},e.prototype.getRootNoiseStream=function(){return this.rootNoiseStream},e.prototype.getRootNoise=function(){return this.rootNoise},e=r([i.Injectable(),o("design:paramtypes",[])],e)}();t.NoiseOptionService=l},653:function(e,t){e.exports='<div (contextmenu)="onContextMenu($event)" class="tree-node">\r\n    <button (click)="toggleShowChildren()" [class.selected]="selectedNoise" class="noise-header">\r\n        <div [style.margin-left]="xoffset+\'px\'">\r\n            <div class="toggleContainer" >\r\n                <i *ngIf="!showChildren" class="fa fa-caret-right"></i>\r\n                <i *ngIf="showChildren" class="fa fa-caret-down"></i>\r\n            </div>\r\n            <h3>{{ noiseModel.type }}</h3>\r\n        </div>\r\n        <context-menu></context-menu>\r\n    </button>\r\n    <ul [hidden]="!showChildren">\r\n        <li *ngFor="let child of noiseModel.children">\r\n            <noise-tree [xoffset]="xoffset + 10" [noiseModel]="child"></noise-tree>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'},654:function(e,t){e.exports=":host {\r\n    display: block;\r\n}\r\n\r\nbutton {\r\n    cursor: context-menu;\r\n}\r\n\r\n.tree-node {\r\n}\r\n\r\nh3, h4 {\r\n    margin: 0;\r\n    font-weight: normal;\r\n}\r\n\r\n.noise-header {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    height: 22px;\r\n    border: none;\r\n    text-align: left;\r\n    background-color: #F3F3F3;\r\n}\r\n\r\n.noise-header.selected {\r\n    color: white;\r\n    background-color: #3399FF;\r\n}\r\n\r\n.noise-header * {\r\n    display: inline-block;\r\n}\r\n\r\n.noise-header.selected:hover {\r\n    background-color: #3399FF;\r\n}\r\n\r\n.noise-header:hover {\r\n    background-color: #F0F0F0;\r\n}\r\n\r\nul {\r\n    margin: 0 0;\r\n    padding-left: 0;\r\n}\r\n\r\nli {\r\n    list-style-type: none;\r\n    background-color: #F3F3F3; \r\n}\r\n\r\nli:hover {\r\n    background-color: #dedede;    \r\n}\r\n\r\n.toggleContainer {\r\n    width: 17px;\r\n    height: 17px;\r\n}"},656:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(393),a=n(383),c=function(){function e(e){var t=this;this.noiseOptionService=e,this.panelStyle={},console.log("noise-options component loaded"),this.noiseOptionService.getSelectedNoiseStream().subscribe(function(e){t.selectedNoise=e})}return e.prototype.updateModel=function(){this.noiseOptionService.updateRootNoise()},e=r([i.Component({selector:"noise-options",directives:[a.SliderComponent],styles:[n(657)],template:n(658)}),o("design:paramtypes",[s.NoiseOptionService])],e)}();t.NoiseOptionsComponent=c},657:function(e,t){e.exports=":host {\r\n    background-color: white;\r\n    z-index: 1;\r\n}\r\n\r\nlabel {\r\n    padding-right: 5px;    \r\n    font-weight: bold;\r\n}\r\n\r\ninput, select {\r\n    float: right;\r\n}\r\n\r\n.option {\r\n    padding: 3px;\r\n    border-top: 1px solid #ddd;\r\n}"},658:function(e,t){e.exports='<!-- Configurable Values\r\n        /* Currently either \'Cellular\' or \'Simplex\' */\r\n        public type?: string,\r\n        public baseHeight?: number,\r\n        /* How many layers of noise there should be */\r\n        public octaves?: number,\r\n        /* A multiplier that determines how quickly the amplitudes \r\n        diminish for each successive octave in a Perlin-noise function. */\r\n        public persistence?: number,\r\n        /* A multiplier that determines how quickly the frequency \r\n        increases for each successive octave in a Perlin-noise function. */\r\n        public lancunarity?: number,\r\n        public frequency?: number,\r\n        /* Determines the minimum and maximum value you can get from this noise. */\r\n        public low?: number,\r\n        public high?: number,\r\n        /* Only used for child noise functions. Can be \'add\', \'subtract\', \'multiply\', or \'divide\'. */\r\n        public operation?: string,\r\n        public children?: NoiseModel[]\r\n-->\r\n\r\n<div class="noise-form-container">\r\n    <div *ngIf="selectedNoise != null" class="flex-container">\r\n        <div class="option">\r\n            <label>Type</label>\r\n            <select [(ngModel)]="selectedNoise.type">\r\n                <option [value]="\'truecellular\'">True Cellular</option>\r\n                <option [value]="\'fastcellular\'" title="Simplex-based cellular http://goo.gl/hUCJnb">Fast Cellular</option>\r\n                <option [value]="\'simplex\'">Simplex</option>\r\n            </select>\r\n        </div>\r\n        <div class="option">\r\n            <label title="Determines what to do with the result generated by the children." for="operation">Operation</label>\r\n            <select name="operation" [(ngModel)]="selectedNoise.operation">\r\n                <option [value]="\'add\'">Add</option>\r\n                <option [value]="\'subtract\'">Subtract</option>\r\n                <option [value]="\'multiply\'">Multiply</option>\r\n                <option [value]="\'divide\'">Divide</option>\r\n            </select>\r\n        </div>\r\n        <div class="option">\r\n            <slider [min]="-5000" [max]="0" [label]="\'Low\'"\r\n                [(ngModel)]="selectedNoise.low"\r\n                [description]="\'Minimum value outputted by this noise function\'"\r\n                [sliderName]="low" [startingValue]="0" [step]="1"></slider>\r\n        </div>\r\n        <div class="option">\r\n            <slider [min]="0" [max]="5000" [label]="\'High\'"\r\n                [(ngModel)]="selectedNoise.high"\r\n                [description]="\'Maximum value outputted by this noise function\'"\r\n                [sliderName]="high" [startingValue]="0" [step]="1"></slider>\r\n        </div>\r\n\r\n        <div [hidden]="selectedNoise.type != \'simplex\'" class="option">\r\n            <slider [min]="1" [max]="16" [label]="\'Octaves\'"\r\n                [(ngModel)]="selectedNoise.octaves"\r\n                [description]="\'How many layers of noise there should be \'"\r\n                [sliderName]="octavesSlider" [startingValue]="1" [step]="1"></slider>\r\n        </div>\r\n        <div class="option">\r\n            <slider [min]="0" [max]="8" [label]="\'Frequency\'"\r\n                [(ngModel)]="selectedNoise.frequency"\r\n                [description]="\'Multiplies the parameters of the noise function\'"\r\n                [sliderName]="frequencySlider" [startingValue]="1" [step]="0.05"></slider>\r\n        </div>\r\n        <div [hidden]="selectedNoise.type != \'simplex\'" class="option">\r\n            <slider [min]="0" [max]="1" [label]="\'Persistence\'"\r\n                [(ngModel)]="selectedNoise.persistence" \r\n                [description]="\'A multiplier that determines how quickly the amplitudes \r\n        diminish for each successive octave\'"\r\n                [sliderName]="persistenceSlider" [startingValue]="0" [step]="0.05"></slider>\r\n        </div>\r\n        <div [hidden]="selectedNoise.type != \'simplex\'" class="option">\r\n            <slider [min]="1" [max]="16" [label]="\'Lancunarity\'"\r\n                [(ngModel)]="selectedNoise.lancunarity" \r\n                [description]="\'A multiplier that determines how quickly the frequency \r\n    increases for each successive octave\'"\r\n                [sliderName]="lancunaritySlider" [startingValue]="2" [step]="0.5"></slider>\r\n        </div>\r\n        <div class="option">\r\n            <button class="pure-button" (click)="updateModel()">Update</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!--\r\n    </div>\r\n    <div class="row">\r\n        <div class="col">\r\n            <label for="baseHeightSlider">Lancunarity</label>\r\n            <p>A multiplier that determines how quickly the frequency \r\n    increases for each successive octave</p>\r\n            <div class="slider">\r\n                <span>1</span>\r\n                <input min="1" max="16" value="2" name="baseHeightSlider" type="range"/>\r\n                <span>16</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n-->'},659:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(393),a=function(){function e(e){this.noiseOptionService=e}return e.prototype.ngOnInit=function(){var e=document.getElementById("stringifiedNoise");this.noiseOptionService.getRootNoiseStream().subscribe(function(t){e.value=JSON.stringify(t)})},e.prototype.copyToClipboard=function(){var e=document.getElementById("stringifiedNoise");e.select();try{document.execCommand("copy")}catch(t){window.prompt("Copy to clipboard: Ctrl+C, Enter",this.stringifiedNoise)}},e.prototype.loadNoise=function(){var e=document.getElementById("stringifiedNoise");console.log("text:",e.value);var t=JSON.parse(e.value);this.noiseOptionService.loadNewRootNoise(t)},e=r([i.Component({selector:"stringified-noise",template:n(660),styles:[n(661)]}),o("design:paramtypes",[s.NoiseOptionService])],e)}();t.StringifiedNoiseComponent=a},660:function(e,t){e.exports='<textarea id="stringifiedNoise" class="stringifiedNoise"></textarea>\r\n<div style="display: inline-block">\r\n\t<button class="pure-button" (click)="copyToClipboard()">Copy to Clipboard</button>\r\n\t<button class="pure-button" title="Paste a stringified noise object into the textbox above, and click this button to load it" (click)="loadNoise()">Load</button>\r\n</div>'},661:function(e,t){e.exports=".stringified-noise {\r\n\tmargin: 5px 5px 5px 5px;\r\n\tbackground-color: white;\r\n\twidth: 100%;\r\n\theight: 400px;\r\n\toverflow-y: scroll;\r\n}\r\n\r\ntextarea {\r\n\tdisplay: block;\r\n\tmargin: 5px auto;\r\n\tmin-height: 100px;\r\n\twidth: 90%;\r\n\tmax-width: 90%;\r\n}"},662:function(e,t){e.exports='<h1> Noise Visualizer </h1>\r\n<div class="display-options">\r\n\t<div class="section-header" (click)="toggleSection(\'displayOptions\')">\r\n\t\t<div class="toggle-container">\r\n\t\t\t<i *ngIf="!toggled.displayOptions" class="fa fa-caret-right"></i>\r\n\t\t\t<i *ngIf="toggled.displayOptions" class="fa fa-caret-down"></i>\r\n\t\t</div>\r\n\t\t<h2 >Display Options</h2>\r\n\t</div>\r\n\t<three-d-options [hidden]="!toggled.displayOptions"> </three-d-options>\r\n</div>\r\n<div class="noises">\r\n\t<div class="section-header" (click)="toggleSection(\'noiseTree\')">\r\n\t\t<div class="toggle-container">\r\n\t\t\t<i *ngIf="!toggled.noiseTree" class="fa fa-caret-right"></i>\r\n\t\t\t<i *ngIf="toggled.noiseTree" class="fa fa-caret-down"></i>\r\n\t\t</div>\r\n\t\t<h2 [style.cursor]="\'help\'" title="Right click items on the noise tree to see a context menu that allows you to select, add, or delete noise.">Noise Tree</h2>\r\n\t</div>\r\n\t<noise-tree [hidden]="!toggled.noiseTree" [xoffset]="0" [root]="true" [noiseModel]="baseNoise"></noise-tree>\r\n</div>\r\n<div class="noise-options">\r\n\t<div class="section-header" (click)="toggleSection(\'noiseOptions\')">\r\n\t\t<div class="toggle-container">\r\n\t\t\t<i *ngIf="!toggled.noiseOptions" class="fa fa-caret-right"></i>\r\n\t\t\t<i *ngIf="toggled.noiseOptions" class="fa fa-caret-down"></i>\r\n\t\t</div>\r\n\t\t<h2  [style.cursor]="\'help\'" title="To modify the options of a different noise, select a different one using the noise tree above.">Noise Options</h2>\r\n\t</div>\r\n\t<noise-options [hidden]="!toggled.noiseOptions"></noise-options>\r\n</div>\r\n<div class="stringified-noise">\r\n\t<div class="section-header" (click)="toggleSection(\'stringifiedNoise\')">\r\n\t\t<div class="toggle-container">\r\n\t\t\t<i *ngIf="!toggled.stringifiedNoise" class="fa fa-caret-right"></i>\r\n\t\t\t<i *ngIf="toggled.stringifiedNoise" class="fa fa-caret-down"></i>\r\n\t\t</div>\r\n\t\t<h2>Stringified</h2>\r\n\t</div>\r\n\t<stringified-noise [hidden]="!toggled.stringifiedNoise"></stringified-noise>\r\n</div>'},663:function(e,t){e.exports="h1 {\r\n    z-index: 1;\r\n    font-size: 20px;\r\n    padding-left: 10px;\r\n    padding-top: 3px;\r\n    margin-top: 0px;\r\n    margin-bottom: 3px;\r\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.33);\r\n}\r\n\r\n.section-header {\r\n    width: 100%;\r\n    display: inline-block;\r\n    height: 22px;   \r\n    padding-left: 5px;\r\n    margin: 0;\r\n    cursor: default;\r\n\r\n    background-color: #DCDCDC;\r\n    box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.33);\r\n}\r\n\r\n.section-header h2 {\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n    text-transform: uppercase;\r\n    color: #6C6C6C;\r\n    margin: 0;\r\n    -moz-user-select: -moz-none;\r\n    -khtml-user-select: none;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.toggle-container {\r\n    display: inline-block;\r\n    width: 22px;\r\n    height: 22px;\r\n    text-align: center;\r\n    line-height: 22px;\r\n    margin: 0;\r\n}"},664:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(665),a=n(666),c=n(671),l=n(672),u=n(393),p=n(387),h=n(673),d=function(){function e(e,t,n,r,o){this.elementRef=e,this.noiseOptionService=t,this.viewOptionService=n,this.debugService=r,this.resizeService=o,this["native"]=this.elementRef.nativeElement,this.nativeElement=this["native"]}return e.prototype.ngOnInit=function(){var e=this;this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,2e5),this.camera.position.y=1e3,this.initThreeJS(),this.initStats(),setTimeout(function(){e.renderer.setSize(e.nativeElement.offsetWidth,e.nativeElement.offsetHeight)},1e3),this.player=new s.Player(this.renderer,this.scene,this.camera),this.initScene(),this.chunkManager=new a.ChunkManager(this.player,this.scene,(!1),25e3,5e3,100,this.noiseOptionService,this.viewOptionService),this.sky=new c.Sky(this.scene);var t=new THREE.AxisHelper(5e3);this.scene.add(t),this.render()},e.prototype.softUpdate=function(){this.chunkManager.update()},e.prototype.initThreeJS=function(){var e=this,t=this.nativeElement.offsetWidth,n=this.nativeElement.offsetHeight;this.renderer=new THREE.WebGLRenderer,this.renderer.setSize(t,n),this.resizeService.sidebarResizeStream.subscribe(function(r){t=window.innerWidth-r,e.renderer.setSize(t,n)}),this.resizeService.noisePanelResizeStream.subscribe(function(r){n=window.innerHeight-r,e.renderer.setSize(t,n)}),this.nativeElement.appendChild(this.renderer.domElement)},e.prototype.initScene=function(){var e=new THREE.DirectionalLight(16777215,.9);e.position.set(0,1,0),this.scene.add(e)},e.prototype.initStats=function(){this.stats=new Stats,this.stats.showPanel(0),this.stats.domElement.style.position="absolute",this.nativeElement.appendChild(this.stats.dom)},e.prototype.addAxisHelper=function(e){},e.prototype.render=function(){this.stats.begin(),this.chunkManager.update(),this.player.update(),this.renderer.render(this.scene,this.camera),this.stats.end(),this.sky.update(1e-4,this.player.controls.target),requestAnimationFrame(this.render.bind(this))},e=r([i.Component({selector:"webgl-view",template:"",styles:[n(674)]}),o("design:paramtypes",[i.ElementRef,u.NoiseOptionService,p.ViewOptionService,l.DebugService,h.ResizeService])],e)}();t.WebglViewComponent=d},665:function(e,t){"use strict";var n=function(){function e(e,t,n){this.renderer=e,this.scene=t,this.camera=n;var r=new THREE.MeshLambertMaterial,o=new THREE.CubeGeometry(100,100,100);this.debugMesh=new THREE.Mesh(o,r),this.scene.add(this.debugMesh),this.initControls()}return e.prototype.update=function(){this.controls.update(),this.debugMesh.position.copy(this.coordinates)},Object.defineProperty(e.prototype,"coordinates",{get:function(){return this.controls.target},enumerable:!0,configurable:!0}),e.prototype.initControls=function(){this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.update()},e}();t.Player=n},666:function(e,t,n){"use strict";var r=n(667),o=n(669),i=function(){function e(e,t,n,o,i,s,a,c,l){if(this.player=e,this.scene=t,this.asyncGenerateChunks=n,this.renderDistance=o,this.chunkSize=i,this.segments=s,this.noiseOptionService=a,this.viewOptionService=c,this.debugService=l,this.chunkGenerator=new r.ChunkGenerator(this.chunkSize,this.segments,null),this.noiseModelStream=a.getRootNoiseStream(),this.noiseModelStream.subscribe(this.onNoiseUpdate.bind(this)),this.viewOptionsStream=this.viewOptionService.viewOptionStream,this.viewOptionsStream.subscribe(this.onViewOptionsUpdate.bind(this)),this.renderDistance=this.renderDistance||5e3,this.chunkSize=this.chunkSize||1e3,
null==this.noise,this.renderDistance%this.chunkSize!=0)throw new Error("Render distance must be evenly divisible by chunk size. (rd="+this.renderDistance+",cs="+this.chunkSize+")");this.chunks=new Map,this.asyncGenerateChunks&&(this.asyncGenerateChunks=!0)}return e.prototype.initializeWorker=function(){var e=this;this.receivedWorkerData=!0;var t=n(670);this.worker=new t,this.worker.postMessage({type:"setGeneratorSettings",data:{chunkSize:this.chunkSize}}),this.worker.onmessage=function(t){e.onWorkerSendChunks(t.data)}},e.prototype.onViewOptionsUpdate=function(e){this.renderDistance=e.renderDistance,this.segments=e.segmentsPerChunk,this.chunkSize=e.chunkSize,this.chunkGenerator.setChunkSize(e.chunkSize),this.chunkGenerator.setSegments(e.segmentsPerChunk),this.unloadAllChunksOnNextUpdate=!0},e.prototype.onNoiseUpdate=function(e){console.log("updating noise with model",e),this.noise=new o.Noise(e),this.unloadAllChunksOnNextUpdate=!0,this.chunkGenerator.setNoiseGenerator(this.noise)},e.prototype.onWorkerSendChunks=function(e){this.receivedWorkerData=!0;for(var t=(new THREE.MeshLambertMaterial,0);t<e.length;t++){var n=e[t].geometryData,r=this.chunkGenerator.generateChunkFromGeometryData(new THREE.Vector2(e[t].coords[0],e[t].coords[1]),n);this.chunks.set(this.serializeVec2(r.chunkCoordinates),r),this.scene.add(r.mesh)}},e.prototype.update=function(){this.noise&&(this.updatePlayerCoordinates()||this.unloadAllChunksOnNextUpdate)&&(console.log("chunk map: ",this.chunks),console.log("updating unload list"),this.updateUnloadList(this.unloadAllChunksOnNextUpdate),this.unloadAllChunksOnNextUpdate=!1,console.log("finished updating unload list:",this.unloadList,"actually unloading chunks now"),this.unloadChunks(),console.log("upadting load list"),this.updateLoadList(),console.log("loading chunks"),this.asyncGenerateChunks&&this.loadList.length>0&&this.receivedWorkerData?(this.receivedWorkerData=!1,this.giveWorkerLoadList()):this.loadChunks(),console.log("done update"))},e.prototype.updatePlayerCoordinates=function(){var e=!this.playerCoordinates||!this.player.coordinates.equals(this.playerCoordinates);return this.playerCoordinates=this.player.coordinates.clone(),e},e.prototype.updateLoadList=function(){this.loadList=new Array;for(var e=this.renderDistance/this.chunkSize,t=this.realCoordsToChunkCoords(new THREE.Vector2(this.playerCoordinates.x,this.playerCoordinates.z)),n=-e+t.x;n<=e+t.x;n++)for(var r=-e+t.y;r<=e+t.y;r++){var o=new THREE.Vector3(n*this.chunkSize,0,r*this.chunkSize);this.playerCoordinates.distanceTo(o)<=this.renderDistance&&!this.chunks.has(n+","+r)&&this.loadList.push(new THREE.Vector2(n,r))}console.log("loadList went from x",-e+t.x,"to ",e+t.x,"y",-e+t.y,"to",e+t.y,this.loadList)},e.prototype.updateUnloadList=function(e){var t=this;this.unloadList=new Array,this.chunks.forEach(function(n,r){var o=t.deserializeVec2(r),i=t.chunkCoordToRealCoords(o),s=new THREE.Vector3(i.x,0,i.y);(t.playerCoordinates.distanceTo(s)>t.renderDistance||e)&&t.unloadList.push(o)})},e.prototype.giveWorkerLoadList=function(){console.log("this.loadList:",this.loadList),this.worker.postMessage({type:"generateChunks",data:this.loadList})},e.prototype.loadChunks=function(){for(var e=0;e<this.loadList.length;e++)this.loadChunk(this.loadList[e])},e.prototype.unloadChunks=function(){for(var e=0;e<this.unloadList.length;e++)this.unloadChunk(this.unloadList[e])},e.prototype.loadChunk=function(e){var t=this.chunkGenerator.generateChunk(e);this.chunks.set(this.serializeVec2(e),t),this.scene.add(t.mesh)},e.prototype.unloadChunk=function(e){var t=this.serializeVec2(e),n=this.chunks.get(t);this.scene.remove(n.mesh),n.mesh.geometry.dispose(),this.chunks["delete"](t)},e.prototype.getChunkCoordinates=function(e){return e.x=Math.floor(e.x/1e3),e.z=Math.floor(e.z/1e3),e},e.prototype.serializeVec2=function(e){return e.x+","+e.y},e.prototype.serializeVec3=function(e){return e.x+","+e.y+","+e.z},e.prototype.deserializeVec2=function(e){var t=e.split(",").map(parseFloat);if(t.length<2)throw new Error("Cannot deserialize vector 2 "+e);return new THREE.Vector2(t[0],t[1])},e.prototype.deserializeVec3=function(e){var t=e.split(",").map(parseFloat);if(t.length<3)throw new Error("Cannot deserialize vector 3 "+e);return new THREE.Vector3(t[0],t[1],t[2])},e.prototype.chunkCoordToRealCoords=function(e){return new THREE.Vector2(e.x*this.chunkSize,e.y*this.chunkSize)},e.prototype.realCoordsToChunkCoords=function(e){return new THREE.Vector2(Math.floor(e.x/this.chunkSize),Math.floor(e.y/this.chunkSize))},e}();t.ChunkManager=i},667:function(e,t,n){"use strict";var r=n(668),o=function(){function e(e,t,n){this.chunkSize=e,this.segments=t,this.noiseGenerator=n,this.groundMaterial=new THREE.MeshLambertMaterial}return e.prototype.generateChunk=function(e){for(var t=new THREE.Vector3(e.x*this.chunkSize,0,e.y*this.chunkSize),n=new THREE.PlaneBufferGeometry(this.chunkSize,this.chunkSize,this.segments,this.segments),o=n.attributes.position.array,i=2;i<o.length;i+=3){var s=new THREE.Vector2((t.x+o[i-2])/5e3,(-t.z+o[i-1])/5e3);o[i]+=this.noiseGenerator.noise(s.x,s.y)}console.log("vertices[1] = ",o[1]),n.computeVertexNormals(),n.rotateX(-Math.PI/2),n.translate(t.x,0,t.z);var a=new THREE.Mesh(n,this.groundMaterial);return a.receiveShadow=!0,new r.Chunk(a,e)},e.prototype.generateChunkGeometryData=function(e){var t={},n=new THREE.Vector3(e.x*this.chunkSize,0,e.y*this.chunkSize),r=new THREE.PlaneBufferGeometry(this.chunkSize,this.chunkSize,this.segments,this.segments);t.vertices=r.attributes.position.array,t.normal=r.attributes.normal.array,t.uv=r.attributes.uv.array,t.indices=r.getIndex().array;for(var o=2;o<t.vertices.length;o+=3){var i=new THREE.Vector2((n.x+t.vertices[o-2])/5e3,(-n.z+t.vertices[o-1])/5e3);t.vertices[o]+=1e3*this.noiseGenerator.noise(i.x,+i.y)}return t},e.prototype.generateChunkFromGeometryData=function(e,t){var n=new THREE.Vector3(e.x*this.chunkSize,0,e.y*this.chunkSize),o=new THREE.BufferGeometry;o.setIndex(new THREE.BufferAttribute(t.indices,1)),o.addAttribute("position",new THREE.BufferAttribute(t.vertices,3)),o.addAttribute("normal",new THREE.BufferAttribute(t.normal,3)),o.addAttribute("uv",new THREE.BufferAttribute(t.uvs,2)),o.computeVertexNormals(),o.rotateX(-Math.PI/2),o.translate(n.x,0,n.z);var i=new THREE.Mesh(o,this.groundMaterial);i.receiveShadow=!0;var s=new r.Chunk(i,e);return s},e.prototype.setChunkSize=function(e){this.chunkSize=e},e.prototype.setSegments=function(e){this.segments=e},e.prototype.setNoiseGenerator=function(e){this.noiseGenerator=e},e.prototype.fastSigmoid=function(e){return e/(1+Math.abs(e))},e}();t.ChunkGenerator=o},668:function(e,t){"use strict";var n=function(){function e(e,t){this.mesh=e,this.chunkCoordinates=t}return e}();t.Chunk=n},669:function(e,t){"use strict";var n=function(){function e(t){this.noiseModel=t,this.MaxTerrainHeight=1,this.CellHeight=.05,this.Scale=this.MaxTerrainHeight/this.CellHeight,this.simplexObject=new SimplexNoise,this.children=new Array;for(var n=0;n<this.noiseModel.children.length;n++)this.children.push(new e(this.noiseModel.children[n]))}return e.prototype.noise=function(e,t){var n=0,r=0,o=this.noiseModel.frequency,i=1,s=0,a=0,c=this.simplex.bind(this);"truecellular"==this.noiseModel.type?c=this.truecellular.bind(this):"fastcellular"==this.noiseModel.type&&(c=this.fastcellular.bind(this));for(var l=0;l<this.noiseModel.octaves;l++)n+=c(e*o,t*o)*i,a+=i,o*=this.noiseModel.lancunarity,i*=this.noiseModel.persistence;n=this.rescale(n,s,a,this.noiseModel.low,this.noiseModel.high);for(var l=0;l<this.children.length;l++)r+=this.children[l].noise(e,t);switch(this.noiseModel.operation){case"multiply":return n*r;case"divide":return n/r;case"add":return n+r;case"subtract":return n-r}},e.prototype.simplex=function(e,t){return(this.simplexObject.noise(e,t)+1)/2},e.prototype.truecellular=function(e,t){function n(e){return e.length?e.map(n):Math.cos(e)}function r(e){return e.length?e.map(r):e-Math.floor(e)}function o(e){return e.length?e.map(o):Math.floor(e)}function i(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]*e[n];return Math.sqrt(t)}function s(e){return r(343.42*n(89.42*e))}function a(e){return[s(23.62*e[0]-300+34.35*e[1]),s(45.13*e[0]+256+38.89*e[1])]}function c(e,t){for(var n=2,s=-1;s<=1;s++)for(var c=-1;c<=1;c++){var u=l.add([],o([e[0],e[1]]),[s,c]),p=i([a(u)[0]+s-r([e[0],e[1]])[0],a(u)[1]+c-r([e[0],e[1]])[1]]);n>p&&(n=p)}return 1-n}var l=function(e,t){return null==e&&(e=0),null==t&&(t=e),[e,t]};return l.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},c([e,t],1)},e.prototype.fastcellular=function(e,t){var n=this.simplexObject.noise(e,t),r=this.Scale*n,o=r*this.CellHeight;return o},e.prototype.rescale=function(e,t,n,r,o){return(o-r)/(n-t)*(e-n)+o},e}();t.Noise=n},670:function(e,t,n){e.exports=function(){return new Worker(n.p+"c6af69ab3b60999b3a45.worker.js")}},671:function(e,t){"use strict";THREE.ShaderLib.sky={uniforms:{luminance:{value:1},turbidity:{value:2},reileigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new THREE.Vector3}},vertexShader:["varying vec3 vWorldPosition;","void main() {","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D skySampler;","uniform vec3 sunPosition;","varying vec3 vWorldPosition;","vec3 cameraPos = vec3(0., 0., 0.);","// uniform sampler2D sDiffuse;","// const float turbidity = 10.0; //","// const float reileigh = 2.; //","// const float luminance = 1.0; //","// const float mieCoefficient = 0.005;","// const float mieDirectionalG = 0.8;","uniform float luminance;","uniform float turbidity;","uniform float reileigh;","uniform float mieCoefficient;","uniform float mieDirectionalG;","// constants for atmospheric scattering","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003; // refractive index of air","const float N = 2.545E25; // number of molecules per unit volume for air at","// 288.15K and 1013mb (sea level -45 celsius)","const float pn = 0.035;\t// depolatization factor for standard air","// wavelength of used primaries, according to preetham","const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);","// mie stuff","// K coefficient for the primaries","const vec3 K = vec3(0.686, 0.678, 0.666);","const float v = 4.0;","// optical length at zenith for molecules","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const vec3 up = vec3(0.0, 1.0, 0.0);","const float EE = 1000.0;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","// 66 arc seconds -> degrees, and the cosine of that","// earth shadow hack","const float cutoffAngle = pi/1.95;","const float steepness = 1.5;","vec3 totalRayleigh(vec3 lambda)","{","return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));","}","// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE","vec3 simplifiedRayleigh()","{","return 0.0005 / vec3(94, 40, 18);","}","float rayleighPhase(float cosTheta)","{\t ","return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));","//\treturn (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));","//\treturn (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));","}","vec3 totalMie(vec3 lambda, vec3 K, float T)","{","float c = (0.2 * T ) * 10E-18;","return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;","}","float hgPhase(float cosTheta, float g)","{","return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));","}","float sunIntensity(float zenithAngleCos)","{","return EE * max(0.0, 1.0 - pow(e, -((cutoffAngle - acos(zenithAngleCos))/steepness)));","}","// float logLuminance(vec3 c)","// {","// \treturn log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);","// }","// Filmic ToneMapping http://filmicgames.com/archives/75","float A = 0.15;","float B = 0.50;","float C = 0.10;","float D = 0.20;","float E = 0.02;","float F = 0.30;","float W = 1000.0;","vec3 Uncharted2Tonemap(vec3 x)","{","return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;","}","void main() ","{","float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);","// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;","// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);","float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));","vec3 sunDirection = normalize(sunPosition);","float sunE = sunIntensity(dot(sunDirection, up));","// extinction (absorbtion + out scattering) ","// rayleigh coefficients","vec3 betaR = simplifiedRayleigh() * reileighCoefficient;","// mie coefficients","vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;","// optical length","// cutoff angle at 90 to avoid singularity in next formula.","float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));","float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));","float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));","// combined extinction factor\t","vec3 Fex = exp(-(betaR * sR + betaM * sM));","// in scattering","float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);","float rPhase = rayleighPhase(cosTheta*0.5+0.5);","vec3 betaRTheta = betaR * rPhase;","float mPhase = hgPhase(cosTheta, mieDirectionalG);","vec3 betaMTheta = betaM * mPhase;","vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));","Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));","//nightsky","vec3 direction = normalize(vWorldPosition - cameraPos);","float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]","float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]","vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);","// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;","vec3 L0 = vec3(0.1) * Fex;","// composition + solar disc","//if (cosTheta > sunAngularDiameterCos)","float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);","// if (normalize(vWorldPosition - cameraPos).y>0.0)","L0 += (sunE * 19000.0 * Fex)*sundisk;","vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));","vec3 texColor = (Lin+L0);   ","texColor *= 0.04 ;","texColor += vec3(0.0,0.001,0.0025)*0.3;","float g_fMaxLuminance = 1.0;","float fLumScaled = 0.1 / luminance;     ","float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ","float ExposureBias = fLumCompressed;","vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);","vec3 color = curr*whiteScale;","vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));","gl_FragColor.rgb = retColor;","gl_FragColor.a = 1.0;","}"].join("\n")};var n=function(){function e(e){this.distance=4e5,this.scene=e,this.initializeSettings(),this.createMesh(),this.createSun()}return e.prototype.createMesh=function(){var e=THREE.ShaderLib.sky;this.uniforms=THREE.UniformsUtils.clone(e.uniforms);var t=new THREE.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:this.uniforms,side:THREE.BackSide}),n=new THREE.SphereBufferGeometry(1e5,32,15);this.mesh=new THREE.Mesh(n,t),this.scene.add(this.mesh)},e.prototype.createSun=function(){this.sunSphere=new THREE.Mesh(new THREE.SphereBufferGeometry(2e4,16,8),new THREE.MeshBasicMaterial({color:16777215})),this.sunSphere.position.y=-7e5,this.sunSphere.visible=!1,this.scene.add(this.sunSphere)},e.prototype.createSunDirectionalLight=function(){this.sunDirectionalLight=new THREE.DirectionalLight(16777215,.5),this.sunDirectionalLight.position.set(-1,1,-1),this.scene.add(this.sunDirectionalLight)},e.prototype.initializeSettings=function(){this.settings={turbidity:10,reileigh:2,mieCoefficient:.005,mieDirectionalG:.8,luminance:1,inclination:0,azimuth:.25,sun:!1}},e.prototype.updateSettings=function(){this.uniforms.turbidity.value=this.settings.turbidity,this.uniforms.reileigh.value=this.settings.reileigh,this.uniforms.luminance.value=this.settings.luminance,this.uniforms.mieCoefficient.value=this.settings.mieCoefficient,this.uniforms.mieDirectionalG.value=this.settings.mieDirectionalG;var e=Math.PI*(this.settings.inclination-.5),t=2*Math.PI*(this.settings.azimuth-.5);this.sunSphere.position.x=this.distance*Math.cos(t),this.sunSphere.position.y=this.distance*Math.sin(t)*Math.sin(e),this.sunSphere.position.z=this.distance*Math.sin(t)*Math.cos(e),this.sunSphere.visible=this.settings.sun,this.uniforms.sunPosition.value.copy(this.sunSphere.position)},e.prototype.update=function(e,t){for(e=e||1,t&&this.mesh.position.copy(t);this.settings.inclination>2;)this.settings.inclination-=2;this.settings.inclination+=1e-5*e,this.updateSettings()},e}();t.Sky=n},672:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(69),a=function(){function e(){console.log("debug service created"),this.chunkStream=new s.Subject,this.chunkStream.subscribe(function(e){console.log("chunkstream update: ",e)})}return e.prototype.getChunkDebugStream=function(){return this.chunkStream},e=r([i.Injectable(),o("design:paramtypes",[])],e)}();t.DebugService=a},673:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(11),s=n(69),a=function(){function e(){this.sidebarResizeStream=new s.Subject,this.noisePanelResizeStream=new s.Subject}return e=r([i.Injectable(),o("design:paramtypes",[])],e)}();t.ResizeService=a},674:function(e,t){e.exports=""},675:function(e,t){e.exports='<div class="main-wrap">\r\n    <div mwlResizable \r\n            [resizeEdges]="{bottom: false, right: true, top: false, left: false}"\r\n            [enableGhostResize]="true"\r\n            [validateResize]="validateSidebarResize"\r\n            [ngStyle]="sidebarStyle"\r\n            (resizeEnd)="onSidebarResizeEnd($event)"\r\n             class="sidebar"><sidebar></sidebar></div>\r\n    <div [ngStyle]="contentStyle" class="content">\r\n        <div class="content-container">\r\n            <webgl-view class="webgl"></webgl-view>\r\n        </div>\r\n    </div>\r\n</div>'},676:function(e,t){e.exports=".sidebar {\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    background-color: #F3F3F3;\r\n    width: 250px;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.sidebar h1 {\r\n    color: white;\r\n}\r\n\r\n.content {\r\n    background-color: white;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 250px;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.content-container {\r\n    display: flex;\r\n    flex-flow: column;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.webgl {\r\n    min-height: 400px;\r\n    flex-grow: 1;\r\n}\r\n\r\n.options {\r\n\r\n}"}});
//# sourceMappingURL=app.js.map